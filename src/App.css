/* App.css — centered 480px app, fixed header+footer with safe-area fill, single scroller, 5-button bottom bar */

/* Font */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800;900&display=swap");
*,*::before,*::after{box-sizing:border-box;font-family:"Montserrat",sans-serif}

/* ===== Tokens ===== */
:root{
  --frame-max:480px;
  --pad:20px;

  --header-h:118px;                 /* brand + tabs + rule (not incl. safe-top) */
  --footer-h:72px;

  --bg:#fff; --ink:#0b0b0b; --hair:#d9d9d9;
  --accent:#E29612; --ok:#2ecc71; --warn:#f4b400; --muted:#e6eedf; --bottom:#0a0a0a;

  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bot: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}

/* ===== Page shell ===== */
html,body,#root{height:100%}
html,body{margin:0;overflow:hidden}
body{
  color:var(--ink); background:#f4f4f4;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
.page{height:100svh;display:flex;justify-content:center}
.app{
  width:100%; max-width:var(--frame-max); height:100%;
  display:flex; flex-direction:column; position:relative;
  background:var(--bg);
  border-left:1px solid #eee; border-right:1px solid #eee;
  border-radius:12px; box-shadow:0 8px 28px rgba(0,0,0,.06);
}

/* ===== Fixed header: no top gap, fills notch ===== */
.header{
  position:fixed; left:0; right:0; top:0; z-index:1001;
  background:#fff;                                /* paint status-bar area */
  padding-top:var(--safe-top);                    /* safe area inside header */
}
.topBar{
  position:relative;
  max-width:var(--frame-max);
  margin:0 auto;
  padding:16px min(5vw,var(--pad)) 2px;
  border-top-left-radius:12px; border-top-right-radius:12px;
}
.topBar::after{content:""; position:absolute; left:0; right:0; bottom:0; height:2px; background:var(--hair)}

.brand-title{margin:0;font-size:28px;font-weight:900;letter-spacing:.5px;display:inline-block}
.topBar-actions{float:right}
.button-today{
  appearance:none;border:0;cursor:pointer;background:var(--accent);color:#1a1a1a;
  font-weight:800;padding:10px 14px;border-radius:10px;
}

/* Top tabs — 4 fixed calendar views */
.topBar-nav{
  display:grid;grid-template-columns:repeat(4,1fr);align-items:end;
  margin-top:14px;padding-top:8px;
}
.tab{
  justify-self:center;appearance:none;border:0;background:transparent;cursor:pointer;
  padding:10px 14px;border-radius:8px 8px 0 0;
  font-weight:700;letter-spacing:.6px;color:#333;margin-bottom:-2px;
}
.tab.active{background:var(--accent);color:#111}

/* ===== Single scroller: offset once for header+footer ===== */
.viewSlot{
  flex:1; overflow:auto; overscroll-behavior:contain; -webkit-overflow-scrolling:touch;
  overflow-anchor:none; scrollbar-gutter:stable both-edges;
  padding-top: calc(var(--header-h) + var(--safe-top));
  padding-bottom: calc(var(--footer-h) + var(--safe-bot));
  padding-inline: max(var(--safe-left),12px) max(var(--safe-right),12px);
}
.band{padding:min(5vw,var(--pad))}

/* ===== Sections ===== */
.section{margin-top:24px}
.section-header{display:flex;align-items:center;gap:10px;font-size:28px;font-weight:900;letter-spacing:.4px}
.section-header .plus{
  width:28px;height:28px;border-radius:999px;display:grid;place-items:center;
  font-weight:900;background:var(--accent);color:#111;
}

/* ===== Tasks ===== */
.task{display:flex;align-items:center;gap:12px;padding:8px 0;font-size:20px}
.task .dot{width:20px;height:20px;border-radius:999px;background:var(--muted)}
.task .dot.ok{background:var(--ok)}
.task .dot.warn{background:var(--warn)}

/* ===== Reminders ===== */
.reminders-toggle{display:flex;align-items:center;gap:10px;font-size:28px;font-weight:900}
.reminders-item{display:flex;align-items:center;gap:12px;padding:8px 0;font-size:20px}
.reminders-item .dot{width:20px;height:20px;border-radius:999px;background:var(--warn)}

/* ===== Habits ===== */
.habits{margin-top:28px}
.habits .grid{width:100%;border-collapse:separate;border-spacing:12px 10px}
.habits .day-label{text-align:center;font-weight:800;letter-spacing:1px}
.habits .pill{
  width:36px;height:36px;border-radius:999px;display:grid;place-items:center;
  background:#e9eeef;color:#fff;font-weight:900;
}
.habits .pill.ok{background:var(--ok)}
.habits .pill.dim{opacity:.35}
.habits .nav{display:flex;gap:18px;justify-content:flex-end;margin:8px 0 0}
.habits .nav button{
  width:36px;height:36px;border-radius:10px;border:1px solid var(--hair);
  background:#fff;cursor:pointer;
}

/* ===== Fixed bottom bar: no bottom gap, 5 flexible buttons ===== */
.BottomBarFixed{
  position:fixed; left:0; right:0; bottom:0; z-index:1000;
  background:var(--bottom);                        /* cover home-indicator area */
  padding-bottom:var(--safe-bot);                  /* safe area inside the bar */
}
.BottomBarFixed__inner{
  max-width:var(--frame-max);
  margin:0 auto;
  min-height:var(--footer-h);
  display:flex; align-items:center; gap:8px;
  padding:10px 16px;
  color:#f5f5f5; background:transparent;
  border-top:1px solid #111;
  border-top-left-radius:12px; border-top-right-radius:12px;
}
.bb-btn{
  flex:1 1 0;
  appearance:none;border:0;background:transparent;cursor:pointer;
  padding:12px 6px;border-radius:12px;font-weight:800;letter-spacing:.6px;color:#cfcfcf;
}
.bb-btn[aria-selected="true"]{color:#fff;background:#1a1a1a;outline:2px solid #222}

/* ===== Helpers ===== */
.hide{display:none!important}
.center{display:grid;place-items:center}
.bold{font-weight:800}

/* ===== PWA height compatibility ===== */
@supports (height: 100svh){
  .page, .app { height:100svh; }
}
@supports not (height: 100svh){
  .page, .app { height:100vh; }
}
