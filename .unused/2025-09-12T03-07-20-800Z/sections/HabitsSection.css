/* ========= HabitSection.css (combined) =========
   Consolidated from HabitItem.module.css, HabitList*.module.css,
   HabitSection.css, and HabitsSection.module.css
*/

/* ================= TOKENS ================= */
:root {
  --habit-cell: 28px;           /* toggle visual size */
  --habit-gap: 8px;
  --habit-radius: 8px;
  --habit-border: #e3e3e3;
  --habit-green: #16a34a;
  --habit-green-ring: rgba(22,163,74,.45);
}

/* Scope tokens to the section as well */
.habits {
  --habit-cell: var(--habit-cell);
  --habit-gap: var(--habit-gap);
  --habit-border: var(--habit-border);
  --habit-green: var(--habit-green);
  --habit-green-ring: var(--habit-green-ring);
}

/* ================= HEADER ================= */
.header,
.habits__summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin: 0 0 8px;
  list-style: none;
  user-select: none;
}
.habits__summary::-webkit-details-marker { display: none; }
.header h3 {
  margin: 0;
  font-size: 12px;
  letter-spacing: .12em;
}

/* AddButton overrides */
.add {
  /* Color */
  --btn-bg: var(--habit-green);
  --btn-ink: #fff;
  --btn-ring: var(--habit-green-ring);
  /* Size and hit-area */
  --btn-size: 28px;
  --btn-hit: 48px;
}

/* ============ DAYS HEADER + GRID ============ */
.grid,
.habGrid {
  display: grid;
  grid-template-columns: minmax(160px, 1fr) repeat(7, var(--habit-cell));
  column-gap: var(--habit-gap);
  gap: var(--habit-gap);
  align-items: center;
}
.daysHeader { margin: 6px 0 8px; font-size: 12px; opacity: .7; }
.colName { padding-left: 2px; }
.dayLabel,
.hHead { text-align: center; font-size: 12px; opacity: .7; }

/* ================= LIST =================== */
.list {
  display: grid;
  row-gap: var(--habitlist-gap, 10px);
  margin-top: var(--habitlist-mt, 0);
  margin-bottom: var(--habitlist-mb, 0);
}
.compact  { --habitlist-gap: 6px; }
.spacious { --habitlist-gap: 14px; }

/* ================= ROW ==================== */
.row {
  display: grid;
  grid-template-columns: 1fr repeat(7, var(--habit-cell));
  column-gap: var(--habit-gap);
  align-items: center;
}

/* ============ NAME / EDIT FIELD =========== */
.nameBox,
.hName {
  display: grid;
  grid-template-columns: 1fr 28px;
  gap: 6px;
  align-items: center;
  border: 1px solid var(--habit-border);
  border-radius: 10px;
  padding: 6px;
}
.nameInput,
.hNameInput {
  flex: 1;
  padding: 6px 8px;
  border: 0;
  outline: none;
  background: transparent;
  font-weight: 600;
}
.removeBtn,
.hDel {
  width: 24px;
  height: 24px;
  padding: 2px 6px;
  border: 1px solid var(--habit-border);
  border-radius: 8px;
  background: #fff;
  cursor: pointer;
}

/* ============ DELETE CONFIRM UI =========== */
.confirmBar { display: inline-flex; gap: 6px; }
.confirm, .cancel {
  height: 24px; padding: 0 8px; border-radius: 6px;
  border: 1px solid var(--habit-border); background: #fff; cursor: pointer;
}
.confirm { background: #fee2e2; border-color: #fecaca; }

/* ============ COMPOSER ROW ================ */
.composer,
.habits__add {
  display: flex;
  gap: 8px;
  align-items: center;
  margin: 8px 0 6px;
}
.composer input {
  flex: 1;
  padding: 6px 8px;
  border-radius: 6px;
  border: 1px solid var(--habit-border);
}
.primary {
  background: #2563eb;
  color: #fff;
  border: 0;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}
.error { color: #b00020; font-size: 12px; margin-left: 8px; }

/* ============ TOGGLE THEMING ============== */
/* Attach to your ToggleButton root via className="toggle" */
.toggle {
  /* Size */
  --tgl-size: var(--habit-cell);
  --tgl-hit: 44px;
  --tgl-radius: 6px;

  /* Off */
  --tgl-bg-off: #f5f5f5;
  --tgl-border-off: #d9d9d9;

  /* On (green tick) */
  --tgl-bg-on: var(--habit-green);
  --tgl-border-on: transparent;
  --tgl-ink-on: #ffffff;

  /* Focus ring */
  --tgl-ring: var(--habit-green-ring);
}

/* ============ OPTIONAL CIRCLE CELLS ======= */
/* For non-ToggleButton placeholder cells if needed */
.hCell {
  width: calc(var(--habit-cell) - 2px);
  height: calc(var(--habit-cell) - 2px);
  border-radius: 999px;
  display: grid;
  place-items: center;
  border: 1px solid #ddd;
  background: #fff;
  font-size: 12px;
}
.hCell.neutral { background: #fafafa; }
.hCell.done    { background: #0ea5e9; color: #fff; border-color: #0ea5e9; }
.hCell.today   { box-shadow: inset 0 0 0 2px rgba(0,0,0,.15); }

/* ============ UTILITIES =================== */
.mt-4 { margin-top: 4px; }
.mb-4 { margin-bottom: 4px; }
.ml-auto { margin-left: auto; }

/* ============ RESPONSIVE ================== */
@media (max-width: 640px) {
  .grid,
  .habGrid {
    grid-template-columns: minmax(120px, 1fr) repeat(7, calc(var(--habit-cell) - 2px));
    gap: 6px;
  }
}
@media (max-width: 420px) {
  .list { --habitlist-gap: 8px; }
}
